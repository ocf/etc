{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "$id": "https://ocf.berkeley.edu/schemas/hours.schema.json",

    "definitions": {
        "time": {
            "type": "string",
            "pattern": "^[012]?[0-9]:[0-9][0-9]$"
        },
        "timerange": {
            "type": "array",
            "items": [
                { "$ref": "#/definitions/time" },
                { "$ref": "#/definitions/time" }
            ]
        },

        "date": {
            "type": "string",
            "pattern": "^(2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9|3[01]))$"
        },
        "daterange": {
            "type": "array",
            "items": [
                { "$ref": "#/definitions/date" },
                { "$ref": "#/definitions/date" }
            ]
        },

        "holiday": {
            "type": "object",
            "properties": {
                "date": {
                    "oneOf": [
                        { "$ref": "#/definitions/date" },
                        { "$ref": "#/definitions/daterange" }
                    ]
                },
                "reason": { "type": "string" },
                "hours": { "$ref": "#/definitions/timerange" }
            },
            "required": ["date", "reason"],
            "additionalProperties": false
        }
    },

    "type": "object",
    "properties": {
        "regular": {
            "type": "array",
            "minItems": 7,
            "maxItems": 7,
            "items": { "$ref": "#/definitions/timerange" }
        },
        "holidays": {
            "type": "array",
            "items": { "$ref": "#/definitions/holiday" }
        }
    },
    "required": ["regular", "holidays"],
    "additionalProperties": false
}
